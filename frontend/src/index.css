@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    body {
        @apply bg-white text-gray-900 font-['Inter'];
    }

    /* Custom Scrollbar */
    ::-webkit-scrollbar {
        width: 10px;
        height: 10px;
    }

    ::-webkit-scrollbar-track {
        @apply bg-purple-50;
    }

    ::-webkit-scrollbar-thumb {
        @apply bg-gradient-to-b from-purple-400 to-purple-600 rounded-full;
    }

    ::-webkit-scrollbar-thumb:hover {
        @apply bg-gradient-to-b from-purple-500 to-purple-700;
    }
}

@layer components {

    /* Purple gradient backgrounds */
    .gradient-purple {
        @apply bg-gradient-to-br from-purple-500 via-purple-600 to-purple-700;
    }

    .gradient-purple-light {
        @apply bg-gradient-to-br from-purple-100 via-purple-200 to-purple-300;
    }

    /* Glass morphism effect */
    .glass {
        @apply bg-white/80 backdrop-blur-lg border border-purple-200/50 shadow-xl;
    }

    /* Enhanced Button styles */
    .btn-primary {
        @apply px-6 py-3 bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-lg font-semibold shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300 ease-in-out relative overflow-hidden;
    }

    .btn-primary::before {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        width: 0;
        height: 0;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.3);
        transform: translate(-50%, -50%);
        transition: width 0.6s, height 0.6s;
    }

    .btn-primary:hover::before {
        width: 300px;
        height: 300px;
    }

    .btn-secondary {
        @apply px-6 py-3 bg-white text-purple-600 border-2 border-purple-600 rounded-lg font-semibold hover:bg-purple-50 transform hover:scale-105 transition-all duration-300 ease-in-out;
    }

    /* Enhanced Input styles */
    .input-field {
        @apply w-full px-4 py-3 border-2 border-purple-200 rounded-lg focus:border-purple-500 focus:ring-4 focus:ring-purple-100 transition-all duration-300 outline-none;
    }

    .input-field:focus {
        animation: input-glow 2s ease-in-out infinite;
    }

    @keyframes input-glow {
        0%, 100% {
            box-shadow: 0 0 5px rgba(147, 51, 234, 0.3);
        }
        50% {
            box-shadow: 0 0 20px rgba(147, 51, 234, 0.5), 0 0 30px rgba(147, 51, 234, 0.3);
        }
    }

    /* Card styles */
    .card {
        @apply bg-white rounded-xl shadow-lg hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300 border border-purple-100;
    }

    .card-purple {
        @apply gradient-purple text-white rounded-xl shadow-lg hover:shadow-2xl transform hover:-translate-y-1 transition-all duration-300;
    }

    /* Message bubbles */
    .message-user {
        @apply bg-gradient-to-r from-purple-600 to-purple-700 text-white rounded-2xl rounded-tr-sm px-5 py-3 max-w-[80%] shadow-md animate-slide-up;
    }

    .message-ai {
        @apply bg-purple-50 text-gray-800 border border-purple-200 rounded-2xl rounded-tl-sm px-5 py-3 max-w-[80%] shadow-md animate-slide-up;
    }

    /* Animated background */
    .animated-bg {
        background: linear-gradient(-45deg, #ffffff, #faf5ff, #f3e8ff, #e9d5ff);
        background-size: 400% 400%;
        animation: gradient 15s ease infinite;
    }

    @keyframes gradient {
        0% {
            background-position: 0% 50%;
        }

        50% {
            background-position: 100% 50%;
        }

        100% {
            background-position: 0% 50%;
        }
    }

    /* Loading spinner */
    .spinner {
        @apply inline-block w-6 h-6 border-4 border-purple-200 border-t-purple-600 rounded-full animate-spin;
    }

    /* Flashcard flip animation */
    .flashcard {
        @apply relative w-full h-64 cursor-pointer;
        perspective: 1000px;
    }

    .flashcard-inner {
        @apply relative w-full h-full transition-transform duration-700;
        transform-style: preserve-3d;
    }

    .flashcard.flipped .flashcard-inner {
        transform: rotateY(180deg);
    }

    .flashcard-front,
    .flashcard-back {
        @apply absolute w-full h-full backface-hidden rounded-xl p-6 flex items-center justify-center text-center;
        backface-visibility: hidden;
    }

    .flashcard-front {
        @apply gradient-purple text-white shadow-xl;
    }

    .flashcard-back {
        @apply bg-white border-2 border-purple-300 text-gray-800 shadow-xl;
        transform: rotateY(180deg);
    }

    /* Quiz option styles */
    .quiz-option {
        @apply w-full p-4 text-left border-2 border-purple-200 rounded-lg hover:border-purple-500 hover:bg-purple-50 transition-all duration-300 cursor-pointer;
    }

    .quiz-option.selected {
        @apply border-purple-600 bg-purple-100;
    }

    .quiz-option.correct {
        @apply border-green-500 bg-green-50;
        animation: success-pulse 0.5s ease-in-out;
    }

    .quiz-option.incorrect {
        @apply border-red-500 bg-red-50;
        animation: error-shake 0.5s ease-in-out;
    }

    @keyframes success-pulse {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.05); }
    }

    @keyframes error-shake {
        0%, 100% { transform: translateX(0); }
        25% { transform: translateX(-10px); }
        75% { transform: translateX(10px); }
    }

    /* Avatar styles */
    .avatar {
        @apply w-10 h-10 rounded-full flex items-center justify-center text-xl shadow-md transition-transform duration-300 hover:scale-110;
    }

    .avatar-user {
        @apply bg-gradient-to-br from-blue-500 to-indigo-600 text-white;
    }

    .avatar-ai {
        @apply bg-gradient-to-br from-purple-500 to-pink-600 text-white;
    }

    /* Floating animations */
    @keyframes float-slow {

        0%,
        100% {
            transform: translate(0, 0) rotate(0deg);
        }

        50% {
            transform: translate(20px, -20px) rotate(5deg);
        }
    }

    @keyframes float-medium {

        0%,
        100% {
            transform: translate(0, 0) rotate(0deg);
        }

        50% {
            transform: translate(-15px, -25px) rotate(-5deg);
        }
    }

    @keyframes float-fast {

        0%,
        100% {
            transform: translate(0, 0) rotate(0deg);
        }

        50% {
            transform: translate(10px, -15px) rotate(3deg);
        }
    }

    .animate-float-slow {
        animation: float-slow 8s ease-in-out infinite;
    }

    .animate-float-medium {
        animation: float-medium 6s ease-in-out infinite;
    }

    .animate-float-fast {
        animation: float-fast 4s ease-in-out infinite;
    }

    /* ============================================ */
    /* ADVANCED ANIMATIONS - NEW ADDITIONS */
    /* ============================================ */

    /* Particle Float Animation */
    @keyframes particle-float {
        0% {
            transform: translateY(0) translateX(0) scale(1);
            opacity: 0;
        }
        10% {
            opacity: 1;
        }
        90% {
            opacity: 1;
        }
        100% {
            transform: translateY(-100vh) translateX(50px) scale(0.5);
            opacity: 0;
        }
    }

    .particle-float {
        animation: particle-float 15s linear infinite;
    }

    /* Text Shimmer Effect */
    @keyframes shimmer {
        0% {
            background-position: -1000px 0;
        }
        100% {
            background-position: 1000px 0;
        }
    }

    .text-shimmer {
        background: linear-gradient(90deg, #9333ea 0%, #fff 50%, #9333ea 100%);
        background-size: 1000px 100%;
        -webkit-background-clip: text;
        background-clip: text;
        -webkit-text-fill-color: transparent;
        animation: shimmer 3s linear infinite;
    }

    /* Glow Pulse Effect */
    @keyframes glow-pulse {
        0%, 100% {
            box-shadow: 0 0 5px rgba(147, 51, 234, 0.5),
                        0 0 10px rgba(147, 51, 234, 0.3),
                        0 0 15px rgba(147, 51, 234, 0.2);
        }
        50% {
            box-shadow: 0 0 20px rgba(147, 51, 234, 0.8),
                        0 0 30px rgba(147, 51, 234, 0.6),
                        0 0 40px rgba(147, 51, 234, 0.4);
        }
    }

    .glow-pulse {
        animation: glow-pulse 2s ease-in-out infinite;
    }

    /* Gradient Shift Animation */
    @keyframes gradient-shift {
        0% {
            background-position: 0% 50%;
        }
        50% {
            background-position: 100% 50%;
        }
        100% {
            background-position: 0% 50%;
        }
    }

    .gradient-shift {
        background: linear-gradient(-45deg, #9333ea, #ec4899, #8b5cf6, #d946ef);
        background-size: 400% 400%;
        animation: gradient-shift 8s ease infinite;
    }

    /* Neon Border Effect */
    .neon-border {
        position: relative;
        border: 2px solid transparent;
        background: linear-gradient(white, white) padding-box,
                    linear-gradient(45deg, #9333ea, #ec4899) border-box;
        animation: neon-glow 2s ease-in-out infinite;
    }

    @keyframes neon-glow {
        0%, 100% {
            filter: drop-shadow(0 0 5px rgba(147, 51, 234, 0.5));
        }
        50% {
            filter: drop-shadow(0 0 20px rgba(147, 51, 234, 1));
        }
    }

    /* Typing Animation */
    @keyframes typing {
        from { width: 0; }
        to { width: 100%; }
    }

    @keyframes blink-caret {
        from, to { border-color: transparent; }
        50% { border-color: #9333ea; }
    }

    .typing-animation {
        overflow: hidden;
        border-right: 3px solid #9333ea;
        white-space: nowrap;
        animation: typing 3.5s steps(40, end), blink-caret 0.75s step-end infinite;
    }

    /* Scroll Reveal Animation */
    @keyframes scroll-reveal {
        from {
            opacity: 0;
            transform: translateY(50px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .scroll-reveal {
        animation: scroll-reveal 0.8s ease-out forwards;
    }

    /* Magnetic Hover Effect */
    .magnetic-hover {
        transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    }

    .magnetic-hover:hover {
        transform: scale(1.1) rotate(2deg);
    }

    /* Ripple Effect */
    @keyframes ripple {
        0% {
            transform: scale(0);
            opacity: 1;
        }
        100% {
            transform: scale(4);
            opacity: 0;
        }
    }

    .ripple-effect {
        position: relative;
        overflow: hidden;
    }

    .ripple-effect::after {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        width: 100px;
        height: 100px;
        background: rgba(147, 51, 234, 0.5);
        border-radius: 50%;
        transform: translate(-50%, -50%) scale(0);
        pointer-events: none;
    }

    .ripple-effect:active::after {
        animation: ripple 0.6s ease-out;
    }

    /* Slide Up Animation */
    @keyframes slide-up {
        from {
            opacity: 0;
            transform: translateY(30px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    .animate-slide-up {
        animation: slide-up 0.5s ease-out;
    }

    /* Bounce In Animation */
    @keyframes bounce-in {
        0% {
            opacity: 0;
            transform: scale(0.3);
        }
        50% {
            opacity: 1;
            transform: scale(1.05);
        }
        70% {
            transform: scale(0.9);
        }
        100% {
            transform: scale(1);
        }
    }

    .animate-bounce-in {
        animation: bounce-in 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
    }

    /* Fade In Animation */
    @keyframes fade-in {
        from {
            opacity: 0;
        }
        to {
            opacity: 1;
        }
    }

    .animate-fade-in {
        animation: fade-in 0.5s ease-in;
    }

    /* Scale In Animation */
    @keyframes scale-in {
        from {
            opacity: 0;
            transform: scale(0.5);
        }
        to {
            opacity: 1;
            transform: scale(1);
        }
    }

    .animate-scale-in {
        animation: scale-in 0.5s ease-out;
    }

    /* Rotate In Animation */
    @keyframes rotate-in {
        from {
            opacity: 0;
            transform: rotate(-180deg) scale(0);
        }
        to {
            opacity: 1;
            transform: rotate(0) scale(1);
        }
    }

    .animate-rotate-in {
        animation: rotate-in 0.6s ease-out;
    }

    /* Pulse Animation */
    @keyframes pulse {
        0%, 100% {
            transform: scale(1);
            opacity: 1;
        }
        50% {
            transform: scale(1.05);
            opacity: 0.8;
        }
    }

    .animate-pulse-slow {
        animation: pulse 3s ease-in-out infinite;
    }

    /* Heartbeat Animation */
    @keyframes heartbeat {
        0%, 100% {
            transform: scale(1);
        }
        10%, 30% {
            transform: scale(0.9);
        }
        20%, 40% {
            transform: scale(1.1);
        }
    }

    .animate-heartbeat {
        animation: heartbeat 1.5s ease-in-out infinite;
    }

    /* Swing Animation */
    @keyframes swing {
        20% {
            transform: rotate(15deg);
        }
        40% {
            transform: rotate(-10deg);
        }
        60% {
            transform: rotate(5deg);
        }
        80% {
            transform: rotate(-5deg);
        }
        100% {
            transform: rotate(0deg);
        }
    }

    .animate-swing {
        transform-origin: top center;
        animation: swing 1s ease-in-out;
    }

    /* Wobble Animation */
    @keyframes wobble {
        0%, 100% {
            transform: translateX(0);
        }
        15% {
            transform: translateX(-25px) rotate(-5deg);
        }
        30% {
            transform: translateX(20px) rotate(3deg);
        }
        45% {
            transform: translateX(-15px) rotate(-3deg);
        }
        60% {
            transform: translateX(10px) rotate(2deg);
        }
        75% {
            transform: translateX(-5px) rotate(-1deg);
        }
    }

    .animate-wobble {
        animation: wobble 1s ease-in-out;
    }

    /* Jello Animation */
    @keyframes jello {
        0%, 100% {
            transform: skewX(0deg) skewY(0deg);
        }
        30% {
            transform: skewX(25deg) skewY(25deg);
        }
        40% {
            transform: skewX(-15deg) skewY(-15deg);
        }
        50% {
            transform: skewX(15deg) skewY(15deg);
        }
        65% {
            transform: skewX(-5deg) skewY(-5deg);
        }
        75% {
            transform: skewX(5deg) skewY(5deg);
        }
    }

    .animate-jello {
        animation: jello 1s ease-in-out;
    }

    /* Flip Animation */
    @keyframes flip {
        from {
            transform: perspective(400px) rotateY(0);
        }
        to {
            transform: perspective(400px) rotateY(360deg);
        }
    }

    .animate-flip {
        animation: flip 1s ease-in-out;
    }

    /* Loading Dots */
    @keyframes loading-dots {
        0%, 80%, 100% {
            opacity: 0;
            transform: scale(0);
        }
        40% {
            opacity: 1;
            transform: scale(1);
        }
    }

    .loading-dots span {
        display: inline-block;
        width: 8px;
        height: 8px;
        margin: 0 2px;
        background-color: #9333ea;
        border-radius: 50%;
        animation: loading-dots 1.4s infinite ease-in-out both;
    }

    .loading-dots span:nth-child(1) {
        animation-delay: -0.32s;
    }

    .loading-dots span:nth-child(2) {
        animation-delay: -0.16s;
    }

    /* Progress Bar Animation */
    @keyframes progress {
        from {
            width: 0%;
        }
        to {
            width: 100%;
        }
    }

    .animate-progress {
        animation: progress 2s ease-out forwards;
    }

    /* Skeleton Loading */
    @keyframes skeleton-loading {
        0% {
            background-position: -200px 0;
        }
        100% {
            background-position: calc(200px + 100%) 0;
        }
    }

    .skeleton {
        background: linear-gradient(90deg, #f0f0f0 0px, #f8f8f8 40px, #f0f0f0 80px);
        background-size: 200px 100%;
        animation: skeleton-loading 1.5s ease-in-out infinite;
    }

    /* Tilt 3D Effect */
    .tilt-3d {
        transform-style: preserve-3d;
        transition: transform 0.3s ease;
    }

    .tilt-3d:hover {
        transform: perspective(1000px) rotateX(10deg) rotateY(10deg) scale(1.05);
    }

    /* Parallax Layer */
    .parallax-layer {
        transition: transform 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    }

    /* Hover Lift Effect */
    .hover-lift {
        transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    }

    .hover-lift:hover {
        transform: translateY(-10px);
        box-shadow: 0 20px 40px rgba(147, 51, 234, 0.3);
    }

    /* Gradient Text */
    .gradient-text {
        background: linear-gradient(135deg, #9333ea 0%, #ec4899 50%, #8b5cf6 100%);
        -webkit-background-clip: text;
        background-clip: text;
        -webkit-text-fill-color: transparent;
    }

    /* Animated Underline */
    .animated-underline {
        position: relative;
        display: inline-block;
    }

    .animated-underline::after {
        content: '';
        position: absolute;
        width: 0;
        height: 2px;
        bottom: -4px;
        left: 0;
        background: linear-gradient(90deg, #9333ea, #ec4899);
        transition: width 0.3s ease;
    }

    .animated-underline:hover::after {
        width: 100%;
    }

    /* Stagger Animation Delays */
    .stagger-1 { animation-delay: 0.1s; }
    .stagger-2 { animation-delay: 0.2s; }
    .stagger-3 { animation-delay: 0.3s; }
    .stagger-4 { animation-delay: 0.4s; }
    .stagger-5 { animation-delay: 0.5s; }
    .stagger-6 { animation-delay: 0.6s; }
}

@layer utilities {
    .backface-hidden {
        backface-visibility: hidden;
    }

    /* GPU Acceleration */
    .gpu-accelerated {
        transform: translateZ(0);
        will-change: transform;
    }

    /* Smooth Scroll */
    .smooth-scroll {
        scroll-behavior: smooth;
    }

    /* Reduced Motion Support */
    @media (prefers-reduced-motion: reduce) {
        *,
        *::before,
        *::after {
            animation-duration: 0.01ms !important;
            animation-iteration-count: 1 !important;
            transition-duration: 0.01ms !important;
        }
    }
}
